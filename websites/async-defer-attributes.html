<h1><code>script</code> 标签上 <code>defer</code> 与 <code>async</code> 属性的区别</h1>
<h2>参考答案</h2>
<p>如果两个属性都不存在，则会按照顺序来加载并执行脚本，在这个过程中，会阻塞后续的DOM渲染。</p>
<p><code>defer</code> 属性在文档仍在解析时下载脚本，但在执行之前一直等到文档完成解析，相当于在 <code>DOMContentLoaded</code> 事件调用前执行。所有 <code>defer</code> 脚本将按顺序执行之后触发 <code>DOMContentLoaded</code>。</p>
<p><code>async</code> 属性在解析文档时下载脚本，下载完毕后就执行。<code>async</code> 脚本不一定按顺序执行。</p>
<p>注：以上属性仅在 <code>script</code> 具有 <code>src</code> 属性时有效。（例如非内联）</p>
<pre><code class="language-html">&lt;script src=&quot;myscript.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;myscript.js&quot; defer&gt;&lt;/script&gt;
&lt;script src=&quot;myscript.js&quot; async&gt;&lt;/script&gt;
</code></pre>
<h2>关键点</h2>
<ul>
<li>在 <code>&lt;head&gt;</code> 中放置一个 <code>defer</code> 脚本允许浏览器在页面仍在解析时下载脚本，因此比在 <code>&lt;/body&gt;</code> 前放置脚本更好；</li>
<li>如果 <code>scripts</code> 的执行需要依赖彼此，可以使用 <code>defer</code>；</li>
<li>如果 <code>scripts</code> 的执行各自独立，可以使用 <code>async</code>；</li>
<li>如果 <code>scripts</code> 的执行必须需要 <code>DOM</code> 已经解析完成，但是又不必须在 <code>DOMContentLoaded</code> 的事件侦听器中，可以使用 <code>defer</code>。</li>
</ul>
<h2>额外参考</h2>
<ul>
<li><a href="http://www.growingwiththeweb.com/2014/02/async-vs-defer-attributes.html">async vs defer attributes</a></li>
</ul>
<p>&lt;!-- tags: (html) --&gt;</p>
<p>&lt;!-- expertise: (1) --&gt;</p>
